
<section class="job-section pt-120 pb-90">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="section-title text-center mb-50 wow fadeInDown">
          <span class="sub-title">Complaints</span>
          <h2>Your Concerns, Our Commitment</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="filter-button mb-60 wow fadeInDown">
          <ul class="filter-btn">
            <li *ngFor="let category of categories"
                [ngClass]="{ 'active': selectedFilter === category.filter }"
                (click)="filterComplaints(category.filter)">
              {{ category.name }}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="job-wrapper">
      <div class="row justify-content-center">
        <div class="col-lg-11" *ngFor="let i of filteredComplaints; let j = index">
          <div class="single-job-item d-flex mb-40 wow fadeInUp">
            <div class="sn-number">
              <span class="number-badge">{{ j + 1 }}</span>
            </div>
            <div class="content">
              <div class="text">
                <div class="title-wrapper d-flex align-items-center gap-2 mb-2">
                  <div>
                    <h3 class="title mb-0 flex-grow-1">{{ i.title }}</h3>
                    <p class="description mb-0">{{ i.complaintDescription }}</p>
                  </div>
                  <span class="status-badge nowrap" [ngClass]="i.complaintStatus.toLowerCase()">
                        {{ i.complaintStatus }}
                   </span>
                </div>

              </div>
            </div>

            <div class="action-container">
              <div class="action-box">
                <a *ngIf="i.complaintStatus === 'IN_PROGRESS' || i.complaintStatus === 'RESOLVED'"
                   [routerLink]="['/complaints/showResponse',i.complaintId]"
                   class="main-btn primary-btn d-flex align-items-center">
                  View Details
                  <i class="fa fa-arrow-right ms-2"></i>
                  <span *ngIf="hasUnseenResponse(i.complaintId) && i.complaintStatus!=='RESOLVED'"
                        class="dot-alert"></span>
                </a>ng serv e
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
